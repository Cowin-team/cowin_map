{"version":3,"sources":["webpack://the_cowin_map/./assets/js/src/bulmaInteractions.js","webpack://the_cowin_map/webpack/bootstrap","webpack://the_cowin_map/./assets/js/src/city.js","webpack://the_cowin_map/./assets/js/src/locations/covidBedLocation.js","webpack://the_cowin_map/./assets/js/src/markers/covidBedMarker.js","webpack://the_cowin_map/./assets/js/src/locations/oxygenSupplyLocation.js","webpack://the_cowin_map/./assets/js/src/markers/oxygenSupplyMarker.js","webpack://the_cowin_map/./assets/js/src/entry/index.js","webpack://the_cowin_map/./assets/js/src/cowinMap.js","webpack://the_cowin_map/./assets/js/src/filters/hospitalMapFilters.js","webpack://the_cowin_map/./assets/js/src/filters/mapFilters.js"],"names":["window","addEventListener","event","document","querySelectorAll","forEach","dropdown","stopPropagation","classList","toggle","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","sheetsApiKey","constructor","name","spreadsheetIds","afterFetchCallback","this","covidBedLocations","covidBedMarkers","fetchCovidBedData","oxygenSupplyLocations","oxygenSupplyMarkers","oxygenSupply","fetchOxygemSupplyData","sheetUrl","covidBeds","fetch","then","response","json","data","values","dataRow","covidBedLocation","type","title","latitude","parseFloat","longitude","url","covidbed","oxybed","icu","venti","updatedAt","position","lat","lng","hasCovidBeds","hasAttribute","hasOxygenBeds","hasICUs","hasVentilators","attr","isNaN","push","location","marker","google","maps","Marker","map","descriptionHtml","setMap","oxygenSupplyLocation","hasRefilling","parseYesOrNo","hasCylinders","hasCans","hasConcentrator","additionalInfo","value","toLowerCase","trim","icon","console","log","initialiseMap","cowinMap","markerInfoWindow","InfoWindow","content","cowinMapMarkers","bounds","LatLngBounds","filters","hospitalMapFilters","onChangeCallback","parentMapFilters","options","state","filterNames","filterName","setEventListeners","filtersElemSelector","that","filter_chkbx","filterChanged","target","anyApplied","isAnyApplied","checkedCheckboxElem","dataset","checked","shouldHideLocation","shouldHaveCovidBeds","shouldHaveOxygenBeds","shouldHaveICUs","shouldHaveVentilators","newFiltersState","plotAllCowinMapMarkers","Map","getElementById","zoom","center","LatLng","navigator","geolocation","getCurrentPosition","pos","coords","setCenter","setupAndPlotCowinMapMarker","cowinMapMarker","addListener","setContent","open","plotCowinMapMarker","shouldPlot","index","extend","afterCityDataFetchCallback","City"],"mappings":"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","file":"index.js","sourcesContent":["window.addEventListener('DOMContentLoaded', (event) => {\n  let dropdowns = document.querySelectorAll('.dropdown');\n\n  dropdowns.forEach((dropdown) => {\n    dropdown.addEventListener('click', function(event) {\n      event.stopPropagation();\n      dropdown.classList.toggle('is-active');\n    });\n  });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const sheetsApiKey = \"AIzaSyClGVndCtMIDvZ7GdE1fO5OPQL5XdtMvVM\";\nimport CovidBedLocation from './locations/covidBedLocation';\nimport CovidBedMarker from './markers/covidBedMarker';\n\nimport OxygenSupplyLocation from './locations/oxygenSupplyLocation';\nimport OxygenSupplyMarker from './markers/oxygenSupplyMarker';\n\nclass City {\n  constructor(name, spreadsheetIds, afterFetchCallback) {\n    this.name               = name;\n    this.spreadsheetIds     = spreadsheetIds;\n    this.afterFetchCallback = afterFetchCallback;\n\n    this.covidBedLocations  = [];\n    this.covidBedMarkers    = [];\n    this.fetchCovidBedData();\n\n    this.oxygenSupplyLocations  = [];\n    this.oxygenSupplyMarkers    = [];\n    if (spreadsheetIds.oxygenSupply !== undefined) {\n      this.fetchOxygemSupplyData();\n    }\n  }\n\n  fetchCovidBedData() {\n    let sheetUrl = \"https://sheets.googleapis.com/v4/spreadsheets/\"+\n      `${this.spreadsheetIds.covidBeds}/values/Sheet1!A2:Q?key=${sheetsApiKey}`\n\n    fetch(sheetUrl)\n      .then(response => response.json())\n      .then(data => {\n        data.values.forEach((dataRow) => {\n          let covidBedLocation = new CovidBedLocation(dataRow);\n          this.covidBedLocations.push(covidBedLocation);\n          this.covidBedMarkers.push(new CovidBedMarker(covidBedLocation));\n        });\n\n        this.afterFetchCallback(this.covidBedMarkers);\n      });\n  }\n\n  fetchOxygemSupplyData() {\n    let sheetUrl = \"https://sheets.googleapis.com/v4/spreadsheets/\"+\n      `${this.spreadsheetIds.oxygenSupply}/values/Sheet1!A2:Q?key=${sheetsApiKey}`\n\n    fetch(sheetUrl)\n      .then(response => response.json())\n      .then(data => {\n        data.values.forEach((dataRow) => {\n          let oxygenSupplyLocation = new OxygenSupplyLocation(dataRow);\n          this.oxygenSupplyLocations.push(oxygenSupplyLocation);\n          this.oxygenSupplyMarkers.push(new OxygenSupplyMarker(oxygenSupplyLocation));\n          console.log(oxygenSupplyLocation);\n        });\n\n        this.afterFetchCallback(this.oxygenSupplyMarkers);\n      });\n  }\n}\n\nexport default City;\n","class CovidBedLocation {\n  constructor(dataRow) {\n    this.type      = \"CovidBedLocation\";\n    this.title     = dataRow[0];\n    this.latitude  = parseFloat(dataRow[2]);\n    this.longitude = parseFloat(dataRow[3]);\n    this.url       = dataRow[4];\n    this.covidbed  = (dataRow[5] === undefined ? \"N/A\" : dataRow[5]);\n    this.oxybed    = (dataRow[6] === undefined ? \"N/A\" : dataRow[6]);\n    this.icu       = (dataRow[7] === undefined ? \"N/A\" : dataRow[7]);\n    this.venti     = (dataRow[8] === undefined ? \"N/A\" : dataRow[8]);\n    this.updatedAt = dataRow[9];\n\n    this.position       = { lat: this.latitude, lng: this.longitude };\n    this.hasCovidBeds   = this.hasAttribute(\"covidbed\");\n    this.hasOxygenBeds  = this.hasAttribute(\"oxybed\");\n    this.hasICUs        = this.hasAttribute(\"icu\");\n    this.hasVentilators = this.hasAttribute(\"venti\");\n  }\n\n  hasAttribute(attr) {\n    if (this[attr] === undefined || this[attr] === \"\") {\n      return false;\n    }\n    if (isNaN(this[attr])) { return false; }\n    if (parseFloat(this[attr]) < 1) { return false; }\n\n    return true;\n  }\n}\n\nexport default CovidBedLocation;\n","class CovidBedMarker {\n  constructor(location) {\n    this.location = location;\n    this.marker = new google.maps.Marker({\n      position: location.position,\n      map: null,\n      title: location.title\n    });\n    this.position = this.marker.position;\n\n    this.descriptionHtml = `\n      <div class=\"content\">\n        <h5 class=\"title is-5 mb-0\">\n         ${(location.url === undefined) ? location.title : ('<a href=\"' + location.url +'\">' + location.title + '</a>')}\n        </h5>\n        <p class=\"is-size-7 mt-1\">Updated at: ${location.updatedAt}</p>\n        <table class=\"table has-text-left is-striped is-narrow is-hoverable\">\n          <tr><th>COVID Beds: </th><td>${location.covidbed}</td></tr>\n          <tr><th>Oxygen Beds: </th><td>${location.oxybed}</td></tr>\n          <tr><th>ICUs: </th><td>${location.icu}</td></tr>\n          <tr><th>Ventilators: </th><td>${location.venti}</td></tr>\n        </table>\n      </div>\n    `\n  }\n\n  setMap(map) {\n    this.marker.setMap(map);\n  }\n}\n\nexport default CovidBedMarker;\n","class OxygenSupplyLocation {\n  constructor(dataRow) {\n    this.type            = \"OxygenSupplyLocation\";\n    this.title           = dataRow[0];\n    this.latitude        = parseFloat(dataRow[2]);\n    this.longitude       = parseFloat(dataRow[3]);\n    this.url             = dataRow[4];\n    this.hasRefilling    = this.parseYesOrNo(dataRow[5]);\n    this.hasCylinders    = this.parseYesOrNo(dataRow[6]);\n    this.hasCans         = this.parseYesOrNo(dataRow[7]);\n    this.hasConcentrator = this.parseYesOrNo(dataRow[8]);\n    this.additionalInfo  = dataRow[9]\n    this.updatedAt       = dataRow[10];\n\n    this.position        = { lat: this.latitude, lng: this.longitude };\n  }\n\n  parseYesOrNo(value) {\n    value = value.toLowerCase().trim();\n    if (value == \"yes\") {\n      return true;\n    } else if (value == \"no\") {\n      return false\n    }\n\n    return undefined;\n  }\n}\n\nexport default OxygenSupplyLocation;\n","class OxygenSupplyMarker {\n  constructor(location) {\n    this.location = location;\n    this.marker = new google.maps.Marker({\n      position: location.position,\n      map: null,\n      title: location.title,\n      icon: \"/assets/images/oxygen.png\"\n    });\n    this.position = this.marker.position;\n\n    this.descriptionHtml = `\n      <div class=\"content\">\n        <h5 class=\"title is-5 mb-0\">\n         ${(location.url === undefined) ? location.title : ('<a href=\"' + location.url +'\">' + location.title + '</a>')}\n        </h5>\n        <p class=\"is-size-7 mt-1\">Updated at: ${location.updatedAt}</p>\n        <table class=\"table has-text-left is-striped is-narrow is-hoverable\">\n          <tr><th>Oxygen Refilling</th><td>${location.hasRefilling ? \"Yes\" : \"No\" }</td></tr>\n          <tr><th>Oxygen Cylinders</th><td>${location.hasCylinders ? \"Yes\" : \"No\" }</td></tr>\n          <tr><th>Oxygen Cans</th><td>${location.hasCans ? \"Yes\" : \"No\" }</td></tr>\n          <tr><th>Oxygen Concentrator</th><td>${location.hasConcentrator ? \"Yes\" : \"No\" }</td></tr>\n        </table>\n        <p>\n        <strong>\n          Additional info:\n        </strong>\n        ${location.additionalInfo}\n        </p>\n      </div>\n    `\n  }\n\n  setMap(map) {\n    this.marker.setMap(map);\n  }\n}\n\nexport default OxygenSupplyMarker;\n","import City from '../city'\nimport CowinMap from '../cowinMap'\nimport '../bulmaInteractions'\n\nfunction initialiseMap() {\n  let cowinMap = new CowinMap();\n\n  let afterCityDataFetchCallback = (cowinMapMarkers) => {\n    cowinMapMarkers.forEach((cowinMapMarker) => {\n      cowinMap.setupAndPlotCowinMapMarker(cowinMapMarker);\n    });\n    cowinMap.plotAllCowinMapMarkers();\n  };\n\n  let ariyalurCity = new City(\n    \"Ariyalur\",\n    {\n      covidBeds: \"12Dmi6ISJQUDIkhbRZ_py4n_IQHJRN1pnuBEOA7tv5ko\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let chengalpattuCity = new City(\n    \"Chengalpattu\",\n    {\n      covidBeds: \"1OlpEEumoFhNDgnFxe6WIe78A8SlhSYHVQorVbOK1Uvo\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let chennaiCity = new City(\n    \"Chennai\",\n    {\n      covidBeds: \"1YV3DWGxsvlTp0-vaw8f09AajQ5cl3MovFvWVVDtkbOc\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let coimbatorCity = new City(\n    \"coimbatore\",\n    {\n      covidBeds: \"1WW1Lu7S8zP85Qzv-Pn7gp_KUxPJZzvrXnGoWOkwcdbw\",\n      oxygenSupply: \"1Ry3y1hx1iHeuF17YmWtzfaDQdhx5zRr6lSLrzBW_TU0\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let cuddaloreCity = new City(\n    \"Cuddalore\",\n    {\n      covidBeds: \"1EH9C7FkWud1jjzj-7q7xQwPd4WpoMccVVtWl0oqq98U\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let dharmapuriCity = new City(\n    \"Dharmapuri\",\n    {\n      covidBeds: \"1C1FJzyXNVa5-j0Q62mpjJFD1KRCBcqnBH1eOLAXYa70\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let dindigulCity = new City(\n    \"Dindigul\",\n    {\n      covidBeds: \"1RPZhwn_Aw-g7o2pBgfe4r0MJe-1UjpQxGkWjzMsQTHY\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let erodeCity = new City(\n    \"Erode\",\n    {\n      covidBeds: \"16X-7DT_U_XLFYusN9z_tFypRre1suvJ8wkTHeb1YtCQ\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let kallakurichiCity = new City(\n    \"Kallakurichi\",\n    {\n      covidBeds: \"18eJ4qiH1B906qdzaP58SIziTClCB0x_FpZxcl9oYz14\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let kancheepuramCity = new City(\n    \"Kancheepuram\",\n    {\n      covidBeds: \"1JFeF1AtpCxRKy6Wb1Mfxq0wCT6M6ULFBvbGwBkMTzjc\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let kanyakumariCity = new City(\n    \"Kanyakumari\",\n    {\n      covidBeds: \"1mmnz6UDlqkm3EqU6UdW7nqOAmyeZcSH14fftnO1rqh8\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let karurCity = new City(\n    \"Karur\",\n    {\n      covidBeds: \"1yeSYSu9FJWQtxh5sfCBGfGJD62BzBmg4EgAefsaYbbg\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let krishnagiri = new City(\n    \"Krishnagiri\",\n    {\n      covidBeds: \"1bkBE2k5zB7FlhsFHtpdzNKF7EKON_vKP7mjdCAZLt9Y\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let maduraiCity = new City(\n    \"Madurai\",\n    {\n      covidBeds: \"1Dr7DYS6GKe5avhHcwhHMB6Z9DTFSj20eEgLvfBlQJSo\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let nagapattinamCity = new City(\n    \"Nagapattinam\",\n    {\n      covidBeds: \"13O7rh6C3XCR3lSkujGFh6iEdMu0sxnb14sqZEXfrxPw\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let namakkalCity = new City(\n    \"Namakkal\",\n    {\n      covidBeds: \"1RP_dDLl4a49_hq-Mp39WWiZiNXKOq5wUBkq1iw7hSFY\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let nilgirisCity = new City(\n    \"Nilgiris\",\n    {\n      covidBeds: \"1CUH-nT9LjD3aIt502segS9CPdz60oq9JdRy4ZvuXETc\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let preambalurCity = new City(\n    \"Preambalur\",\n    {\n      covidBeds: \"1nWkVDXRxuWI6dAYLtDo4eNvSW8FggvNuHCoL27B8qCw\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let pudukottaiCity = new City(\n    \"Pudukottai\",\n    {\n      covidBeds: \"1od8JhGoSmn0r66PQCxV4j9oJoJ-RJNbCginMBtnV_60\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let ramanathapuramCity = new City(\n    \"Ramanathapuram\",\n    {\n      covidBeds: \"1szYIqEjXO9DPZXH6z8TbIrlKjLoPT0V5MwHiZkXb0ag\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let ranipetCity = new City(\n    \"Ranipet\",\n    {\n      covidBeds: \"1c9xo2XBRXjr6tU4AlZWh2VzSGPPJsOKTZC_vsX5tJgM\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let salemCity = new City(\n    \"Salem\",\n    {\n      covidBeds: \"1GlNu4jyK_nkI2KwEBe9Wc6qgW1bCxbrH9v8cUJDJWrs\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let sivagangaiCity = new City(\n    \"Sivagangai\",\n    {\n      covidBeds: \"1wGN_t4TW70RNvNhg259Tb8Cc5bli73vrMIDuGH8zFhM\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let tenkasiCity = new City(\n    \"Tenkasi\",\n    {\n      covidBeds: \"1Rjn8tzK_DuKzbGE3FRHAK9klpbsk7nasfDi8hWYG_Xo\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thanjavurCity = new City(\n    \"Thanjavur\",\n    {\n      covidBeds: \"12wJXWn2ropifcuAEj6KZxyNkkJzZBYjjG7r-5WVjgT4\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let theniCity = new City(\n    \"Theni\",\n    {\n      covidBeds: \"1xgvC0LSHJ4gedshTMEjlqOqM7OIlRFmlgD5z_CdL8jQ\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thirupathurCity = new City(\n    \"Thirupathur\",\n    {\n      covidBeds: \"1x8_36yw3M51tdYHUAj-BaQfZCqFSgkS2A666XPxO3Jo\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thiruvarurCity = new City(\n    \"Thiruvarur\",\n    {\n      covidBeds: \"1GUsyRy-wWrQ0VWRUe_V2ZHhKIz9z_K3Q6ZkPtlICpSk\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thoothukudiCity = new City(\n    \"Thoothukudi\",\n    {\n      covidBeds: \"1CliAXv8Ws8tmu1yGzFo5TgOYVdUrPW9Et7KU-fvm-3k\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thirunelveliCity = new City(\n    \"Thirunelveli\",\n    {\n      covidBeds: \"124dWtrpcunekPx-AGyoNDD6cgFKEYFc63BYXCadl4Kw\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let tiripurCity = new City(\n    \"Tirupur\",\n    {\n      covidBeds: \"1T5fUP5nhCctC2bpNWeO4Yg2UYrewbTxrGh58c2zJePU\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thiruvallurCity = new City(\n    \"Thiruvallur\",\n    {\n      covidBeds: \"1v0Qiew7dauoum8E_3p6GdL13TL0HmCT_Ruz5_7EdMGQ\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let thiruvannamalaiCity = new City(\n    \"Thiruvannamalai\",\n    {\n      covidBeds: \"1L9Mll_3sD709TOsYXRr8sxZgbAqqKNtjtWLkdqqR9JE\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let velloreCity = new City(\n    \"Vellore\",\n    {\n      covidBeds: \"1NFfB_ApMAmU9t6LHV78Ohh4wnda4kSlLgMA394koB0c\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let villupuramCity = new City(\n    \"Villupuram\",\n    {\n      covidBeds: \"1S-SB3KLbKyyt_XWQDI0qnwIf2kiKrH5PlDe_NgiumJA\"\n    },\n    afterCityDataFetchCallback\n  );\n\n  let virudhunagarCity = new City(\n    \"Virudhunagar\",\n    {\n      covidBeds: \"1NIECJ0FGqMSJ5yY72gfk-C-F3K8EhnhJGMC0tQs8CZ0\"\n    },\n    afterCityDataFetchCallback\n  );\n}\n\n\nwindow.initialiseMap = initialiseMap;\n","import HospitalMapFilters from './filters/hospitalMapFilters';\n\nclass CowinMap {\n  constructor() {\n    this.map              = null;\n    this.initialiseMap();\n\n    this.markerInfoWindow = new google.maps.InfoWindow({ content: \"\" });\n    this.cowinMapMarkers  = [];\n    this.bounds           = new google.maps.LatLngBounds();\n    this.filters       = [];\n\n    this.hospitalMapFilters = new HospitalMapFilters((newFiltersState) => {\n      this.plotAllCowinMapMarkers();\n    });\n    this.filters.push(this.hospitalMapFilters);\n  }\n\n  initialiseMap() {\n    // Center on (0, 0). Map center and zoom will reconfigure later (fitbounds method)\n    this.map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 10,\n      center: new google.maps.LatLng(11.0117016,76.8971953)\n    });\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const pos = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n          };\n          this.map.setCenter(pos);\n        },\n        () => {\n          // Center on Coimbatore\n          this.map.setCenter(new google.maps.LatLng(11.0117016,76.8971953));\n        }\n      );\n    } else {\n      // Browser doesn't support Geolocation\n      // Center on Coimbatore\n      this.map.setCenter(new google.maps.LatLng(11.0117016,76.8971953));\n    }\n  }\n\n  setupAndPlotCowinMapMarker(cowinMapMarker) {\n    google.maps.event.addListener(cowinMapMarker.marker, 'click', () => {\n      this.markerInfoWindow.setContent(cowinMapMarker.descriptionHtml);\n      this.markerInfoWindow.open(this.map, cowinMapMarker.marker);\n    });\n    this.cowinMapMarkers.push(cowinMapMarker);\n  };\n\n  plotCowinMapMarker(cowinMapMarker) {\n    let shouldPlot = true;\n\n    for (let index in this.filters) {\n      if (this.filters[index].shouldHideLocation(cowinMapMarker.location)) {\n        shouldPlot = false;\n        break;\n      }\n    }\n\n    if (shouldPlot) {\n      cowinMapMarker.setMap(this.map);\n      if (!isNaN(cowinMapMarker.location.latitude) && !isNaN(cowinMapMarker.location.longitude)) {\n        this.bounds.extend(cowinMapMarker.position);\n      }\n    } else {\n      cowinMapMarker.setMap(null);\n    }\n  }\n\n  plotAllCowinMapMarkers() {\n    this.cowinMapMarkers.forEach((cowinMapMarker) => {\n      this.plotCowinMapMarker(cowinMapMarker);\n    });\n\n    // this.map.fitBounds(this.bounds);\n  }\n}\nexport default CowinMap;\n","import MapFilters from \"./mapFilters\"\n\nclass HospitalMapFilters {\n  constructor(onChangeCallback) {\n    this.parentMapFilters = new MapFilters({\n      filterNames: [\n        \"shouldHaveCovidBeds\",\n        \"shouldHaveOxygenBeds\",\n        \"shouldHaveICUs\",\n        \"shouldHaveVentilators\"\n      ],\n      filtersElemSelector: \".hospital-filters input\",\n      onChangeCallback: onChangeCallback\n    });\n\n    this.anyApplied = this.parentMapFilters.anyApplied;\n  }\n\n  shouldHideLocation(location) {\n    if ((this.parentMapFilters.state.shouldHaveCovidBeds && !location.hasCovidBeds) ||\n      (this.parentMapFilters.state.shouldHaveOxygenBeds && !location.hasOxygenBeds) ||\n      (this.parentMapFilters.state.shouldHaveICUs && !location.hasICUs) ||\n      (this.parentMapFilters.state.shouldHaveVentilators && !location.hasVentilators)) {\n\n      return true;\n    }\n\n    return false;\n  }\n}\n\nexport default HospitalMapFilters;\n","class MapFilters {\n  constructor(options) {\n    this.state = []\n    options.filterNames.forEach((filterName) => {\n      this.state[filterName] = false\n    })\n    this.setEventListeners(options.filtersElemSelector);\n    this.onChangeCallback = options.onChangeCallback;\n  }\n\n  setEventListeners(filtersElemSelector) {\n    let that = this;\n    document.querySelectorAll(filtersElemSelector).forEach(function(filter_chkbx) {\n      filter_chkbx.addEventListener(\"change\", (event) => { that.filterChanged(event.target) });\n    });\n  }\n\n  anyApplied() {\n    let isAnyApplied = false;\n\n    for (const filterName in this.state) {\n      if (this.state[filterName] == true) {\n        isAnyApplied = true;\n        break;\n      }\n    }\n    return isAnyApplied;\n  }\n\n  filterChanged(checkedCheckboxElem) {\n    let filterName = checkedCheckboxElem.dataset.filterName;\n    this.state[filterName] = checkedCheckboxElem.checked;\n\n    this.onChangeCallback(this.state);\n  }\n}\n\nexport default MapFilters;\n"],"sourceRoot":""}